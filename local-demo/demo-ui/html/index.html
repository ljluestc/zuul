<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zero Trust Kubernetes Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; min-height: 100vh;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 40px; }
        .dashboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .card {
            background: rgba(255,255,255,0.1); backdrop-filter: blur(10px);
            border-radius: 10px; padding: 20px; border: 1px solid rgba(255,255,255,0.2);
        }
        .status { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; }
        .status.healthy { background: #4CAF50; }
        .status.warning { background: #FF9800; }
        .status.critical { background: #F44336; }
        .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 15px; }
        .metric { text-align: center; }
        .metric-value { font-size: 24px; font-weight: bold; }
        .metric-label { font-size: 12px; opacity: 0.8; }
        button {
            background: #4CAF50; color: white; border: none; padding: 10px 20px;
            border-radius: 5px; cursor: pointer; margin: 5px;
        }
        button:hover { background: #45a049; }
        button.danger { background: #F44336; }
        button.danger:hover { background: #da190b; }
        .logs {
            background: #000; color: #00ff00; padding: 15px; border-radius: 5px;
            font-family: 'Courier New', monospace; font-size: 12px; height: 200px;
            overflow-y: auto; margin-top: 15px;
        }
        .security-score { font-size: 36px; font-weight: bold; text-align: center; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ›¡ï¸ Zero Trust Kubernetes Demo</h1>
            <p>Netflix Zuul API Gateway with Comprehensive Security</p>
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin: 20px 0;">
                <h2>ğŸš€ Demo Status: ACTIVE</h2>
                <p>Local Kubernetes cluster running with zero trust security policies</p>
            </div>
        </div>

        <div class="dashboard">
            <div class="card">
                <h3>ğŸ¯ Security Overview</h3>
                <div class="security-score" id="securityScore">98.5%</div>
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-value" id="vulnCount">0</div>
                        <div class="metric-label">Critical Vulns</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="policyViolations">0</div>
                        <div class="metric-label">Policy Violations</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="mTLSConnections">100%</div>
                        <div class="metric-label">mTLS Enabled</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>ğŸš€ Application Status</h3>
                <div style="margin: 10px 0;">
                    <strong>Kubernetes Cluster:</strong> <span class="status healthy" id="k8sStatus">Healthy</span>
                </div>
                <div style="margin: 10px 0;">
                    <strong>Container Registry:</strong> <span class="status healthy" id="registryStatus">Healthy</span>
                </div>
                <div style="margin: 10px 0;">
                    <strong>Demo Web UI:</strong> <span class="status healthy" id="uiStatus">Healthy</span>
                </div>
                <div style="margin: 10px 0;">
                    <strong>Security Policies:</strong> <span class="status healthy" id="policyStatus">Enforced</span>
                </div>
            </div>

            <div class="card">
                <h3>ğŸ“Š Cluster Metrics</h3>
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-value" id="podCount">5</div>
                        <div class="metric-label">Running Pods</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="nodeCount">1</div>
                        <div class="metric-label">Cluster Nodes</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="uptime">100%</div>
                        <div class="metric-label">Uptime</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>ğŸ” Security Features Enabled</h3>
                <ul style="list-style: none; padding: 0;">
                    <li>âœ… Pod Security Standards (Restricted)</li>
                    <li>âœ… Network Policies (Default Deny)</li>
                    <li>âœ… RBAC Authorization</li>
                    <li>âœ… Security Context Constraints</li>
                    <li>âœ… Container Image Scanning</li>
                    <li>âœ… Runtime Security Monitoring</li>
                    <li>âœ… Admission Controllers</li>
                    <li>âœ… Secrets Management</li>
                </ul>
            </div>

            <div class="card">
                <h3>ğŸ›ï¸ Demo Actions</h3>
                <button onclick="runSecurityScan()">Security Scan</button>
                <button onclick="showKubectl()">Kubectl Commands</button>
                <button onclick="showPods()">List Pods</button>
                <button onclick="simulateAttack()" class="danger">Simulate Attack</button>
                <div class="logs" id="demoLogs">
[INFO] ğŸ›¡ï¸ Zero Trust Demo initialized successfully!
[INFO] Kubernetes cluster: kind-zuul-zero-trust-local
[INFO] Security policies enforced at cluster level
[INFO] Container registry deployed and operational
[INFO] Demo web interface ready for testing
                </div>
            </div>

            <div class="card">
                <h3>ğŸ“š Next Steps</h3>
                <ol>
                    <li>Deploy Istio service mesh</li>
                    <li>Install monitoring stack (Prometheus/Grafana)</li>
                    <li>Deploy Zuul Gateway with security</li>
                    <li>Configure zero trust policies</li>
                    <li>Run comprehensive security tests</li>
                </ol>
                <button onclick="deployNext()">Deploy Infrastructure</button>
            </div>
        </div>
    </div>

    <script>
        function addLog(message) {
            const logs = document.getElementById('demoLogs');
            const timestamp = new Date().toLocaleTimeString();
            logs.innerHTML += `\n[${timestamp}] ${message}`;
            logs.scrollTop = logs.scrollHeight;
        }

        function runSecurityScan() {
            addLog('ğŸ” [SECURITY] Running vulnerability scan...');
            setTimeout(() => addLog('âœ… [SECURITY] Scan completed - No critical vulnerabilities'), 2000);
        }

        function showKubectl() {
            addLog('ğŸ’» [KUBECTL] Available commands:');
            addLog('    kubectl get pods -A');
            addLog('    kubectl get nodes');
            addLog('    kubectl get networkpolicies');
        }

        function showPods() {
            addLog('ğŸ“¦ [PODS] Listing running pods...');
            setTimeout(() => {
                addLog('  âœ… local-registry - Container Registry');
                addLog('  âœ… demo-ui - Web Interface');
                addLog('  âœ… coredns - DNS Resolution');
            }, 1000);
        }

        function simulateAttack() {
            addLog('ğŸš¨ [ALERT] Simulated attack detected!');
            setTimeout(() => addLog('ğŸ›¡ï¸ [DEFENSE] Network policies blocking traffic'), 1000);
            setTimeout(() => addLog('âœ… [DEFENSE] Attack mitigated successfully'), 2000);
        }

        function deployNext() {
            addLog('ğŸš€ [DEPLOY] Ready to deploy zero trust infrastructure...');
            addLog('    Next: Run deployment script to continue');
        }

        // Periodic status updates
        setInterval(() => {
            const messages = [
                'ğŸ” Security policies validated',
                'ğŸ“Š Resource utilization healthy',
                'ğŸ” Continuous monitoring active',
                'âœ… All systems operational'
            ];
            addLog(messages[Math.floor(Math.random() * messages.length)]);
        }, 15000);
    </script>
</body>
</html>
